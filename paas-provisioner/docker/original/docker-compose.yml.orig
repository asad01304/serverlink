version: '2'
services:
  SERVICE_NAME_VAR_web:
    container_name: CONTAINER_NAME_VAR_web
    hostname: USER_VAR-web
    domainname: DOMAIN_VAR
    build:
      context: .
      dockerfile: Dockerfile-web
      args:
        USER: USER_VAR
        DOMAIN: DOMAIN_VAR
        APP: wordpress
        SEEDAPP_ARCHIVE: wordpress-v4.tgz
    networks:
      - NETWORK_NAME_VAR_net
    volumes:
      - ./CONTAINER_NAME_VAR_data_volume:/data:ro
      - ./CONTAINER_NAME_VAR_web_volume:/home/clients
    links:
      - SERVICE_NAME_VAR_db:db
  SERVICE_NAME_VAR_db:
    container_name: CONTAINER_NAME_VAR_db
    hostname: USER_VAR-db
    domainname: DOMAIN_VAR
    build:
      context: .
      dockerfile: Dockerfile-db
      args:
        USER: USER_VAR
        DOMAIN: DOMAIN_VAR
        APP: wordpress
        SEEDAPP_ARCHIVE: wordpress-v4.tgz
    networks:
      - NETWORK_NAME_VAR_net
    volumes:
      - ./CONTAINER_NAME_VAR_data_volume:/data

networks:
  NETWORK_NAME_VAR_net:
